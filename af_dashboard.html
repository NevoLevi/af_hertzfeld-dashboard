<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AF Patients Dashboard - Hertzfeld</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);
            min-height: 100vh;
            color: #1f2937;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.25rem;
            color: #6b7280;
            margin-bottom: 1rem;
        }

        .header-info {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1rem;
            font-size: 0.875rem;
            color: #6b7280;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f3f4f6;
            color: #374151;
        }

        .tab-button.active {
            background: #2563eb;
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .tab-button:hover:not(.active) {
            background: #e5e7eb;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #2563eb;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-card-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .stat-card h3 {
            font-size: 0.875rem;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: bold;
            color: #1f2937;
        }

        .chart-container {
            background: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }

        .chart-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .data-card {
            background: white;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #3b82f6;
        }

        .data-card h4 {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .data-card .code {
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .data-card .metrics {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .data-card .count {
            font-size: 1.5rem;
            font-weight: bold;
            color: #3b82f6;
        }

        .data-card .percentage {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .coverage-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .coverage-high {
            background: #dcfce7;
            color: #166534;
        }

        .coverage-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .coverage-low {
            background: #fee2e2;
            color: #991b1b;
        }

        .category-badge {
            padding: 0.25rem 0.5rem;
            background: #f3f4f6;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            color: #6b7280;
        }

        .footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
            color: #6b7280;
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>AF Patients Database Dashboard</h1>
            <p>Hertzfeld Medical Center - Comprehensive Analysis</p>
            <div class="header-info">
                <div>‚ù§Ô∏è Atrial Fibrillation Patients</div>
                <div>üìä Statistical Analysis</div>
                <div>üè• Medical Database</div>
            </div>
            
            <nav class="nav-tabs">
                <button class="tab-button active" onclick="showTab('overview')">Overview</button>
                <button class="tab-button" onclick="showTab('diagnoses')">Diagnoses</button>
                <button class="tab-button" onclick="showTab('vitals')">Vital Signs</button>
                <button class="tab-button" onclick="showTab('labs')">Laboratory</button>
                <button class="tab-button" onclick="showTab('medications')">Medications</button>
		<button class="tab-button" onclick="showTab('codes')">Codes</button>
            </nav>
        </header>

        <main>
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div>
                                <h3>Total AF Patients</h3>
                                <div class="value">3,895</div>
                            </div>
                            <div class="stat-card-icon" style="background: #3b82f6;">üë•</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div>
                                <h3>Primary AF Diagnosis</h3>
                                <div class="value">990</div>
                            </div>
                            <div class="stat-card-icon" style="background: #ef4444;">‚ù§Ô∏è</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div>
                                <h3>Comorbid Hypertension</h3>
                                <div class="value">929</div>
                            </div>
                            <div class="stat-card-icon" style="background: #f97316;">üìà</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-header">
                            <div>
                                <h3>On Medication</h3>
                                <div class="value">2,427</div>
                            </div>
                            <div class="stat-card-icon" style="background: #10b981;">üíä</div>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-container">
                        <h3 class="chart-title">Top Diagnoses Distribution</h3>
                        <canvas id="diagnosesChart" width="500" height="300"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3 class="chart-title">Medication Usage</h3>
                        <canvas id="medicationsChart" width="500" height="300"></canvas>
                    </div>
                </div>
            </div>

            <!-- Diagnoses Tab -->
            <div id="diagnoses" class="tab-content">
                <div class="chart-container">
                    <h3 class="chart-title">Diagnoses Analysis</h3>
                    <canvas id="diagnosesBarChart" width="800" height="400"></canvas>
                </div>

                <div class="data-grid">
                    <div class="data-card">
                        <h4>Atrial Fibrillation</h4>
                        <div class="code">Code: 42731</div>
                        <div class="metrics">
                            <span class="count">990</span>
                            <span class="percentage">25.4%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Hypertension</h4>
                        <div class="code">Code: 4019</div>
                        <div class="metrics">
                            <span class="count">929</span>
                            <span class="percentage">23.9%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Fatigue</h4>
                        <div class="code">Code: 7807</div>
                        <div class="metrics">
                            <span class="count">585</span>
                            <span class="percentage">15.0%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Dyspnea</h4>
                        <div class="code">Code: 78609</div>
                        <div class="metrics">
                            <span class="count">492</span>
                            <span class="percentage">12.6%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Dizziness</h4>
                        <div class="code">Code: 7804</div>
                        <div class="metrics">
                            <span class="count">322</span>
                            <span class="percentage">8.3%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Syncope</h4>
                        <div class="code">Code: 7802</div>
                        <div class="metrics">
                            <span class="count">207</span>
                            <span class="percentage">5.3%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Heart Failure</h4>
                        <div class="code">Code: 428</div>
                        <div class="metrics">
                            <span class="count">185</span>
                            <span class="percentage">4.8%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <h4>Pulmonary Embolism</h4>
                        <div class="code">Code: 41519</div>
                        <div class="metrics">
                            <span class="count">77</span>
                            <span class="percentage">2.0%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vitals Tab -->
            <div id="vitals" class="tab-content">
                <div class="chart-container">
                    <h3 class="chart-title">Vital Signs Coverage</h3>
                    <canvas id="vitalsChart" width="800" height="300"></canvas>
                </div>

                <div class="data-grid">
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üìä</div>
                            <span class="coverage-badge coverage-high">100%</span>
                        </div>
                        <h4>Heart Rate</h4>
                        <div class="code">Code: 3</div>
                        <div class="metrics">
                            <span class="count">3,895</span>
                            <span class="percentage">patients recorded</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>ü©∫</div>
                            <span class="coverage-badge coverage-high">100%</span>
                        </div>
                        <h4>Diastolic BP</h4>
                        <div class="code">Code: 24</div>
                        <div class="metrics">
                            <span class="count">3,895</span>
                            <span class="percentage">patients recorded</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>ü©∫</div>
                            <span class="coverage-badge coverage-high">100%</span>
                        </div>
                        <h4>Systolic BP</h4>
                        <div class="code">Code: 23</div>
                        <div class="metrics">
                            <span class="count">3,895</span>
                            <span class="percentage">patients recorded</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>ü´Å</div>
                            <span class="coverage-badge coverage-high">98.4%</span>
                        </div>
                        <h4>Saturation</h4>
                        <div class="code">Code: 13</div>
                        <div class="metrics">
                            <span class="count">3,832</span>
                            <span class="percentage">patients recorded</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Labs Tab -->
            <div id="labs" class="tab-content">
                <div class="chart-container">
                    <h3 class="chart-title">Laboratory Tests Coverage</h3>
                    <canvas id="labsChart" width="800" height="300"></canvas>
                </div>

                <div class="data-grid">
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üß™</div>
                            <span class="coverage-badge coverage-high">99.6%</span>
                        </div>
                        <h4>Potassium</h4>
                        <div class="code">Code: 25402</div>
                        <div class="metrics">
                            <span class="count">3,878</span>
                            <span class="percentage">patients tested</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üß™</div>
                            <span class="coverage-badge coverage-high">98.4%</span>
                        </div>
                        <h4>Calcium</h4>
                        <div class="code">Code: 20800</div>
                        <div class="metrics">
                            <span class="count">3,831</span>
                            <span class="percentage">patients tested</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üß™</div>
                            <span class="coverage-badge coverage-medium">65.8%</span>
                        </div>
                        <h4>Magnesium</h4>
                        <div class="code">Code: 24500</div>
                        <div class="metrics">
                            <span class="count">2,563</span>
                            <span class="percentage">patients tested</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üß™</div>
                            <span class="coverage-badge coverage-low">0.7%</span>
                        </div>
                        <h4>Thyroid Antibodies</h4>
                        <div class="code">Code: 66200</div>
                        <div class="metrics">
                            <span class="count">27</span>
                            <span class="percentage">patients tested</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Medications Tab -->
            <div id="medications" class="tab-content">
                <div class="chart-container">
                    <h3 class="chart-title">Medication Prescriptions</h3>
                    <canvas id="medicationsBarChart" width="800" height="400"></canvas>
                </div>

                <div class="data-grid">
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Beta Blocker</span>
                        </div>
                        <h4>CardiLOC</h4>
                        <div class="metrics">
                            <span class="count">1,934</span>
                            <span class="percentage">49.7%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Beta Blocker</span>
                        </div>
                        <h4>Metoprolol</h4>
                        <div class="metrics">
                            <span class="count">295</span>
                            <span class="percentage">7.6%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Cardiac Glycoside</span>
                        </div>
                        <h4>Digoxin</h4>
                        <div class="metrics">
                            <span class="count">160</span>
                            <span class="percentage">4.1%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Calcium Channel Blocker</span>
                        </div>
                        <h4>Verapamil</h4>
                        <div class="metrics">
                            <span class="count">32</span>
                            <span class="percentage">0.8%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Antiarrhythmic</span>
                        </div>
                        <h4>Flecainide</h4>
                        <div class="metrics">
                            <span class="count">3</span>
                            <span class="percentage">0.1%</span>
                        </div>
                    </div>
                    <div class="data-card">
                        <div class="stat-card-header">
                            <div>üíä</div>
                            <span class="category-badge">Calcium Channel Blocker</span>
                        </div>
                        <h4>Diltiazem</h4>
                        <div class="metrics">
                            <span class="count">2</span>
                            <span class="percentage">0.1%</span>
                        </div>
                    </div>
                </div>
            </div>

				
		<!-- Codes Tab -->
<div id="codes" class="tab-content">
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-card-header">
                <div>
                    <h3>Diagnosis Codes</h3>
                    <div class="value">13</div>
                </div>
                <div class="stat-card-icon" style="background: #ef4444;">üè•</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-card-header">
                <div>
                    <h3>Vital Sign Codes</h3>
                    <div class="value">4</div>
                </div>
                <div class="stat-card-icon" style="background: #10b981;">üìä</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-card-header">
                <div>
                    <h3>Lab Codes</h3>
                    <div class="value">5</div>
                </div>
                <div class="stat-card-icon" style="background: #f59e0b;">üß™</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-card-header">
                <div>
                    <h3>Medication Codes</h3>
                    <div class="value">10</div>
                </div>
                <div class="stat-card-icon" style="background: #8b5cf6;">üíä</div>
            </div>
        </div>
    </div>

    <!-- Diagnoses Codes Section -->
    <div class="chart-container">
        <h3 class="chart-title">Diagnosis Codes Mapping</h3>
        <div class="data-grid">
            <div class="data-card">
                <h4>Atrial Fibrillation</h4>
                <div class="code">Protocol Code: 42731</div>
                <div class="code">DB Names: ATRIAL FIBRILLATION, ATRIAL FIBRILATION, PAF, etc.</div>
                <div class="metrics">
                    <span class="count">990</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Hypertension</h4>
                <div class="code">Protocol Code: 4019</div>
                <div class="code">DB Names: ESSENTIAL HYPERTENSION, HTN, HYPERTENSION SYSTEMIC, etc.</div>
                <div class="metrics">
                    <span class="count">929</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Fatigue</h4>
                <div class="code">Protocol Code: 7807</div>
                <div class="code">DB Names: FATIGUE, MALAISE AND FATIGUE, WEAKNESS, etc.</div>
                <div class="metrics">
                    <span class="count">585</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Dyspnea</h4>
                <div class="code">Protocol Code: 78609</div>
                <div class="code">DB Names: DYSPNEA, DYSPNEA AND RESPIRATORY ABNORMALITY, etc.</div>
                <div class="metrics">
                    <span class="count">492</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Vital Signs Codes Section -->
    <div class="chart-container">
        <h3 class="chart-title">Vital Signs Codes Mapping</h3>
        <div class="data-grid">
            <div class="data-card">
                <h4>Heart Rate</h4>
                <div class="code">Protocol Code: 3</div>
                <div class="code">DB Name: ◊ì◊ï◊§◊ß (heart rate)</div>
                <div class="metrics">
                    <span class="count">3,895</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Blood Pressure Diastolic</h4>
                <div class="code">Protocol Code: 24</div>
                <div class="code">DB Name: ◊ú◊ó◊• ◊ì◊ô◊ê◊°◊ò◊ï◊ú◊ô</div>
                <div class="metrics">
                    <span class="count">3,895</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Blood Pressure Systolic</h4>
                <div class="code">Protocol Code: 23</div>
                <div class="code">DB Name: ◊ú◊ó◊• ◊°◊ô◊°◊ò◊ï◊ú◊ô</div>
                <div class="metrics">
                    <span class="count">3,895</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Saturation</h4>
                <div class="code">Protocol Code: 13</div>
                <div class="code">DB Name: ◊°◊ò◊ï◊®◊¶◊ô◊î</div>
                <div class="metrics">
                    <span class="count">3,832</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Medications Codes Section -->
    <div class="chart-container">
        <h3 class="chart-title">Medication Codes Mapping</h3>
        <div class="data-grid">
            <div class="data-card">
                <h4>CardiLOC</h4>
                <div class="code">Protocol Code: 4594</div>
                <div class="code">DB Codes: 5674, 5663, 6813, 5676</div>
                <div class="metrics">
                    <span class="count">1,934</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Metoprolol</h4>
                <div class="code">Protocol Code: 210</div>
                <div class="code">DB Codes: 6694, 9064, 14398, 16514, 14319</div>
                <div class="code">DB Names: METoprolol 29/M, METOPROLOL 5mg/5ml, METoprolol CLARIS</div>
                <div class="metrics">
                    <span class="count">295</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Digoxin</h4>
                <div class="code">Protocol Code: 401</div>
                <div class="code">DB Codes: 14895, 13037, 16595</div>
                <div class="code">DB Names: DIGOXIN NEW KERN PHARMA, DIGOXIN PEDIATRIC, DIGOXINA KERN</div>
                <div class="metrics">
                    <span class="count">160</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Verapamil</h4>
                <div class="code">Protocol Code: 230</div>
                <div class="code">DB Codes: 14513, 9705, 14514, 12090, 11968, 11969</div>
                <div class="metrics">
                    <span class="count">32</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Flecainide</h4>
                <div class="code">Protocol Code: 391</div>
                <div class="code">DB Code: 15359</div>
                <div class="code">DB Name: FLECAINIDE ACETATE MYLAN 29/M</div>
                <div class="metrics">
                    <span class="count">3</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
            <div class="data-card">
                <h4>Diltiazem</h4>
                <div class="code">Protocol Code: 244</div>
                <div class="code">DB Codes: 6120, 12282</div>
                <div class="code">DB Names: DILTIAZEM TEVA, DILTIAZEM</div>
                <div class="metrics">
                    <span class="count">2</span>
                    <span class="percentage">patients</span>
                </div>
            </div>
        </div>
    </div>

    	<!-- Lab Codes Section -->
    	<div class="chart-container">
        	<h3 class="chart-title">Laboratory Codes Mapping</h3>
        	<div class="data-grid">
            	<div class="data-card">
                	<h4>Potassium</h4>
                	<div class="code">Protocol Code: 25402</div>
                	<div class="code">DB Name: POTASSIUM</div>
                	<div class="metrics">
                    	<span class="count">3,878</span>
                    	<span class="percentage">patients</span>
                	</div>
            	</div>
            	<div class="data-card">
                	<h4>Calcium</h4>
                	<div class="code">Protocol Code: 20800</div>
                	<div class="code">DB Name: CALCIUM</div>
                	<div class="metrics">
                    	<span class="count">3,831</span>
                    	<span class="percentage">patients</span>
                	</div>
            	</div>
            	<div class="data-card">
                	<h4>Magnesium</h4>
                	<div class="code">Protocol Code: 24500</div>
                	<div class="code">DB Name: MAGNESIUM</div>
                	<div class="metrics">
                    	<span class="count">2,563</span>
                    	<span class="percentage">patients</span>
                	</div>
            	</div>
            	<div class="data-card">
                	<h4>Thyroid Antibodies</h4>
                	<div class="code">Protocol Code: 66200</div>
                	<div class="code">DB Name: THYROID MICROSOM Ab</div>
                	<div class="metrics">
                    	<span class="count">27</span>
                    	<span class="percentage">patients</span>
                	</div>
            		</div>
        		</div>
    		</div>
		</div>
        </main>

        <footer class="footer">
            <p>Dashboard generated from AF patient database ‚Ä¢ Last updated: <span id="currentDate"></span></p>
        </footer>
    </div>

    <script>
        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString();

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');

            // Initialize charts for the active tab
            setTimeout(() => {
                initializeCharts(tabName);
            }, 100);
        }

        // Chart colors
        const colors = [
            '#3b82f6', '#10b981', '#f59e0b', '#ef4444', 
            '#8b5cf6', '#06b6d4', '#f97316', '#84cc16'
        ];

        // Initialize charts
        function initializeCharts(activeTab = 'overview') {
            if (activeTab === 'overview' || activeTab === 'diagnoses') {
                // Diagnoses pie chart
                const diagnosesCtx = document.getElementById('diagnosesChart');
                if (diagnosesCtx && !diagnosesCtx.chartInstance) {
                    diagnosesCtx.chartInstance = new Chart(diagnosesCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Atrial Fibrillation', 'Hypertension', 'Fatigue', 'Dyspnea', 'Dizziness', 'Other'],
                            datasets: [{
                                data: [990, 929, 585, 492, 322, 577],
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                }

                // Medications chart
                const medicationsCtx = document.getElementById('medicationsChart');
                if (medicationsCtx && !medicationsCtx.chartInstance) {
                    medicationsCtx.chartInstance = new Chart(medicationsCtx, {
                        type: 'bar',
                        data: {
                            labels: ['CardiLOC', 'Metoprolol', 'Digoxin', 'Verapamil', 'Flecainide'],
                            datasets: [{
                                label: 'Patients',
                                data: [1934, 295, 160, 32, 3],
                                backgroundColor: colors[0]
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }

                // Diagnoses bar chart
                const diagnosesBarCtx = document.getElementById('diagnosesBarChart');
                if (diagnosesBarCtx && !diagnosesBarCtx.chartInstance) {
                    diagnosesBarCtx.chartInstance = new Chart(diagnosesBarCtx, {
                        type: 'bar',
                        data: {
                            labels: ['AF', 'Hypertension', 'Fatigue', 'Dyspnea', 'Dizziness', 'Syncope', 'Heart Failure', 'PE'],
                            datasets: [{
                                label: 'Patients',
                                data: [990, 929, 585, 492, 322, 207, 185, 77],
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
            }

            if (activeTab === 'vitals') {
                const vitalsCtx = document.getElementById('vitalsChart');
                if (vitalsCtx && !vitalsCtx.chartInstance) {
                    vitalsCtx.chartInstance = new Chart(vitalsCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Heart Rate', 'Diastolic BP', 'Systolic BP', 'Saturation'],
                            datasets: [{
                                label: 'Patients Recorded',
                                data: [3895, 3895, 3895, 3832],
                                backgroundColor: colors[1]
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
            }

            if (activeTab === 'labs') {
                const labsCtx = document.getElementById('labsChart');
                if (labsCtx && !labsCtx.chartInstance) {
                    labsCtx.chartInstance = new Chart(labsCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Potassium', 'Calcium', 'Magnesium', 'Thyroid Ab'],
                            datasets: [{
                                label: 'Coverage %',
                                data: [99.6, 98.4, 65.8, 0.7],
                                backgroundColor: colors[2]
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
            }

            if (activeTab === 'medications') {
                const medicationsBarCtx = document.getElementById('medicationsBarChart');
                if (medicationsBarCtx && !medicationsBarCtx.chartInstance) {
                    medicationsBarCtx.chartInstance = new Chart(medicationsBarCtx, {
                        type: 'bar',
                        data: {
                            labels: ['CardiLOC', 'Metoprolol', 'Digoxin', 'Verapamil', 'Flecainide', 'Diltiazem'],
                            datasets: [{
                                label: 'Patients',
                                data: [1934, 295, 160, 32, 3, 2],
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
            }

		if (activeTab === 'codes') {
    		// No charts needed for codes tab - it's all data cards
    			console.log('Codes tab activated - displaying code mappings');
		}	

        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts('overview');
        });
    </script>
</body>
</html>